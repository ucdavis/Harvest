@using Microsoft.AspNetCore.Authorization
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Harvest</title>

    @RenderSection("Styles", required: false)
</head>

<body>
    <div class="page-wrap">
        <header>
            @if (Configuration["Environment:ShowTestBanner"] == "Yes")
            {
                <h1 style="background-color: red; text-align: center; color: white">----------- Beta Testing. Data will not
                    be retained. -----------</h1>
            }
            <div class="container">
                <div class="row justify-content-between align-items-end">
                    <div class="col-sm-8 col-md-5 col-xl-4">
                        <a asp-area="" asp-controller="Home" asp-action="Index">
                            <h1>Harvest</h1>
                            <p class="subtitle">Planting tomorrow's crops today</p>
                        </a>
                    </div>
                </div>
            </div>
        </header>
        <div class="head_bleed">
            <div class="head_divider">
            </div>
        </div>
        <nav class="navbar navbar-expand-md nav mb-4">
            <a class="navbar-brand" href="#">Harvest</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="/project">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                    </li>
                </ul>
                <div class="mt-2 mt-md-0">
                    Welcome @User.Identity.Name
                </div>
            </div>
        </nav>

        @if (!string.IsNullOrWhiteSpace(TempData["ErrorMessage"] as string))
        {
            <div class="container">
                <div class="alert alert-danger">
                    <button type="button" class="close" data-dismiss="alert">
                        <i class="fas fa-times"></i>
                    </button> @TempData["ErrorMessage"]
                </div>
            </div>
        }
        @if (!string.IsNullOrWhiteSpace(TempData["Message"] as string))
        {
            <div class="container">
                <div class="alert alert-info">
                    <button type="button" class="close" data-dismiss="alert">
                        <i class="fas fa-times"></i>
                    </button> @TempData["Message"]
                </div>
            </div>
        }

        <main role="main" class="main-content-wrapper container">
            @RenderBody()
        </main>
    </div>
    <footer class="container">
        <p>Copyright &copy; <span id="copywrite-year"></span> The Regents of the University of California, Davis campus.
            All rights reserved.</p>
    </footer>

    <environment include="Development">
        @* NOTE: These are auto generated by CRA/ClientApp and will load in our SASS/CSS plus other libraries and will
            fast reload changes.
            In production deployments, we will want to use the produced styles from the /dist folder
        *@
        <script src="/static/js/bundle.js"></script>
        <script src="/static/js/vendors~main.chunk.js"></script>
        <script src="/static/js/main.chunk.js"></script>
    </environment>

    @RenderSection("Scripts", required: false)
</body>

</html>